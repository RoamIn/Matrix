{"version":3,"sources":["components/drawer/index.jsx","components/tabs/index.jsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/picture/index.jsx","pages/Movies/components/MovieList/index.jsx","pages/Movies/components/MovieStage/index.jsx","components/rate/index.jsx","components/celebrities/index.jsx","pages/Movies/components/MovieDetail/index.jsx","pages/Movies/index.jsx","api/index.js","api/magnet.js","api/movie.js","utils/ajax.js","components/base/spin/index.jsx"],"names":["Drawer","_ref","_this","_ref$width","width","_ref$visible","visible","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","setState","props","onClose","_ref2","_this2","classNames","classnames","c-drawer","is-visible","react_default","a","createElement","className","style","right","concat","onClick","close","icon","type","children","Component","Tabs","handleChange","activeKey","key","onChange","defaultActiveKey","default","prevProps","React","Children","map","element","index","isActive","title","_this3","renderHeader","renderContent","defaultProps","_objectWithoutProperties","source","excluded","i","target","sourceKeys","keys","length","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","Picture","_this$props","_this$props$src","src","alt","etcProps","assign","MovieList","list","item","id","components_picture","cover","loading","rate","WINDOW_INNER_HEIGHT","window","innerHeight","MovieStage","handleScroll","event","isLoading","noMore","hasError","_event$target","scrollHeight","scrollTop","console","log","search","params","page_start","page_limit","message","objectSpread","bool","arguments","undefined","updateLoading","ajax","then","res","subjects","catch","error","finally","JSON","stringify","onScroll","Movies_components_MovieList","spin","Rate","Math","ceil","starElements","starOutlineElements","classString","parseInt","push","Celebrity","celebrity","avatar","normal","name","MovieDetail","data","countries","directors","casts","genres","images","aka","rating","ck","for_mobile","getMovieDetail","_this$state","DOM","pic","src_components_rate","value","join","year","components_celebrities","actors","intro","Link","to","pathname","withRouter","MoviesPage","movieTagList","movieId","tabsActiveKey","drawer","handleViewMovie","showDrawer","handleDrawerClose","handleTabsChange","tags","getMovieTags","components_tabs","tag","Movies_components_MovieStage","components_drawer","Movies_components_MovieDetail","src_api","baseURL","getMagnetByTitle","method","desc","url","search_tags","search_subjects","get_movie_detail","suffix","_ajaxConfig","axios","create","API","headers","Content-Type","mixinGlobalParams","token","Date","now","toString","interceptors","request","use","config","alert","Promise","reject","response","status","apiName","api","_API$apiName","replace","Spin","c-spin","spinning","react__WEBPACK_IMPORTED_MODULE_5___default"],"mappings":"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","file":"static/js/4.8fac1eb4.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport classnames from 'classnames'\r\n\r\nimport Icon from '@/components/base/icon'\r\n\r\nimport './index.scss'\r\n\r\nclass Drawer extends Component {\r\n    constructor({\r\n        width = '345px',\r\n        visible = false\r\n    }) {\r\n        super()\r\n\r\n        this.state = {\r\n            width,\r\n            visible\r\n        }\r\n    }\r\n\r\n    close() {\r\n        this.setState({\r\n            visible: false\r\n        })\r\n\r\n        this.props.onClose && this.props.onClose()\r\n    }\r\n\r\n    componentWillReceiveProps({ visible }) {\r\n        this.setState({\r\n            visible\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const classNames = classnames({\r\n            'c-drawer': true,\r\n            'is-visible': this.state.visible\r\n        })\r\n\r\n        return (\r\n            <div className={classNames} style={{\r\n                width: this.state.width,\r\n                right: this.state.visible ? 0 : `-${this.state.width}`\r\n            }}>\r\n                <div className=\"c-drawer__close-trigger\" onClick={() => this.close()}>\r\n                    <Icon type=\"menu-fold\" />\r\n                </div>\r\n                <div className=\"c-drawer__body\">{this.props.children}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Drawer","import React, { Component } from 'react'\r\nimport classnames from 'classnames'\r\n\r\nimport './index.scss'\r\n\r\nclass Tabs extends Component {\r\n    static defaultProps = {\r\n        defaultActiveKey: '1'\r\n    }\r\n\r\n    constructor(props) {\r\n        super()\r\n\r\n        this.state = {\r\n            activeKey: props.defaultActiveKey.activeKey || props.defaultActiveKey || this.default.defaultActiveKey\r\n        }\r\n    }\r\n\r\n    handleChange = ({ key: activeKey }) => {\r\n        const onChange = this.props.onChange\r\n\r\n        this.setState({\r\n            activeKey\r\n        })\r\n\r\n        if (onChange) {\r\n            onChange(activeKey)\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const activeKey = this.props.activeKey\r\n\r\n        if (prevProps.activeKey !== activeKey && activeKey !== '') {\r\n            this.setState({\r\n                activeKey\r\n            })\r\n        }\r\n    }\r\n\r\n    renderHeader() {\r\n        return React.Children.map(this.props.children, (element, index) => {\r\n            const isActive = element.key === this.state.activeKey ? 'is-active' : null\r\n\r\n            return (\r\n                <span className={classnames('c-tabs__title', isActive)} onClick={() => {\r\n                    this.handleChange(element)\r\n                }}>{element.props.title}</span>\r\n            )\r\n        })\r\n    }\r\n\r\n    renderContent() {\r\n        return React.Children.map(this.props.children, (element) => {\r\n            if (element.key === this.state.activeKey) {\r\n                return (\r\n                    <div className=\"c-tabs__pane\">{element.props.children}</div>\r\n                )\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"c-tabs\">\r\n                <div className=\"c-tabs__header\">{this.renderHeader()}</div>\r\n                <div className=\"c-tabs__body\">{this.renderContent()}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tabs","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React, { Component } from 'react';\r\n\r\nimport './index.scss';\r\n\r\nclass Picture extends Component {\r\n  render() {\r\n    const { src = '', alt, ...etcProps } = this.props;\r\n\r\n    return <img src={'/picture/' + src} alt={alt} {...etcProps} />;\r\n  }\r\n}\r\n\r\nexport default Picture;\r\n","import React, { Component } from 'react';\r\n\r\nimport Picture from '@/components/picture';\r\n\r\nimport './index.scss';\r\n\r\nclass MovieList extends Component {\r\n  render() {\r\n    return (\r\n      <ul className=\"movies\">\r\n        {this.props.list.map(item =>\r\n          <li\r\n            className=\"movie\"\r\n            key={item.id}\r\n            onClick={() => this.props.onClick(item.id)}\r\n          >\r\n            <div className=\"movie__poster\">\r\n              <Picture src={item.cover} alt={item.title} loading=\"lazy\" />\r\n            </div>\r\n            <div className=\"movie__footer\">\r\n              <div className=\"movie__title\">\r\n                {item.title}\r\n              </div>\r\n              <span className=\"movie__rating\">\r\n                {item.rate}\r\n              </span>\r\n            </div>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieList;\r\n","import React, { Component } from 'react';\r\n\r\nimport Spin from '@/components/base/spin';\r\n\r\nimport ajax from '@/utils/ajax';\r\n\r\nimport MovieList from '../MovieList';\r\n\r\nimport './index.scss';\r\n\r\nconst WINDOW_INNER_HEIGHT = window.innerHeight;\r\n\r\nclass MovieStage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      list: [],\r\n      isLoading: false,\r\n      noMore: false,\r\n      hasError: false,\r\n      message: '',\r\n      params: {\r\n        ...props.params,\r\n        type: 'movie',\r\n        page_limit: 20,\r\n        page_start: 0\r\n      }\r\n    };\r\n  }\r\n\r\n  updateLoading(bool) {\r\n    this.setState({\r\n      isLoading: bool\r\n    });\r\n  }\r\n\r\n  handleScroll = event => {\r\n    if (this.state.isLoading || this.state.noMore || this.state.hasError) {\r\n      return;\r\n    }\r\n\r\n    const { scrollHeight, scrollTop } = event.target;\r\n    const distanceToBottom = scrollHeight - WINDOW_INNER_HEIGHT - scrollTop;\r\n\r\n    if (distanceToBottom < 20) {\r\n      console.log('next');\r\n      this.search(this.state.params.page_start + this.state.params.page_limit);\r\n    }\r\n  };\r\n\r\n  search(page_start = 0) {\r\n    this.setState({\r\n      params: { ...this.state.params, page_start }\r\n    });\r\n\r\n    this.updateLoading(true);\r\n\r\n    ajax('search_subjects', {\r\n      ...this.state.params,\r\n      page_start,\r\n      page_limit: this.state.params.page_limit\r\n    })\r\n      .then(res => {\r\n        const { subjects } = res;\r\n\r\n        this.setState({\r\n          list: this.state.list.concat(subjects),\r\n          noMore: subjects.length === 0\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error.message);\r\n      })\r\n      .finally(() => {\r\n        this.updateLoading(false);\r\n      });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      JSON.stringify(prevProps.params) !== JSON.stringify(this.props.params)\r\n    ) {\r\n      this.search();\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.search();\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n\r\n    return (\r\n      <section className=\"movie-stage\" onScroll={this.handleScroll}>\r\n        <div className=\"movie-stage__body\">\r\n          <MovieList list={this.state.list} onClick={this.props.onClick} />\r\n          {isLoading && <Spin loading={isLoading} />}\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieStage;\r\n","import React, { Component } from 'react'\r\nimport classNames from 'classnames'\r\n\r\nimport Icon from '../base/icon'\r\n\r\nimport './index.scss'\r\n\r\nclass Rate extends Component {\r\n    render() {\r\n        const rate = Math.ceil(this.props.rate)\r\n        const starElements = []\r\n        const starOutlineElements = []\r\n        const classString = classNames(\r\n            'c-rate',\r\n            this.props.className\r\n        )\r\n\r\n        for (let i = 0; i < parseInt(rate / 2); i++) {\r\n            starElements.push(<Icon type=\"star\" key={i} />)\r\n        }\r\n\r\n        for (let i = 0; i < 5 - parseInt(rate / 2) - rate % 2; i++) {\r\n            starOutlineElements.push(<Icon type=\"star-outline\" key={i} />)\r\n        }\r\n\r\n        return (\r\n            <div className={classString}>\r\n                {starElements}\r\n                {rate % 2 === 1 &&\r\n                    <Icon type=\"star-half\" />\r\n                }\r\n                {starOutlineElements}\r\n                <span className=\"c-rate__num\">{this.props.rate}</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Rate","import React, { Component } from 'react';\r\n\r\nimport Picture from '@/components/picture';\r\n\r\nimport './index.scss';\r\n\r\nclass Celebrity extends Component {\r\n  static defaultProps = {\r\n    list: []\r\n    // data: {\r\n    //     alt: '',\r\n    //     avatars: {\r\n    //         small: '',\r\n    //         large: '',\r\n    //         medium: ''\r\n    //     },\r\n    //     name: '',\r\n    //     id: 0\r\n    // }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"c-celebrities\">\r\n        {this.props.list.map((celebrity, index) =>\r\n          <div className=\"c-celebrity\" key={celebrity.id}>\r\n            <div className=\"c-celebrity__avatar\">\r\n              <Picture\r\n                src={celebrity.avatar.normal}\r\n                alt={celebrity.name}\r\n                loading=\"lazy\"\r\n              />\r\n            </div>\r\n            <div className=\"c-celebrity__name\">\r\n              {celebrity.name}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Celebrity;\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport Spin from '@/components/base/spin';\r\nimport Rate from '@/components/rate';\r\nimport Celebrities from '@/components/celebrities';\r\nimport Picture from '@/components/picture';\r\n\r\nimport ajax from '@/utils/ajax';\r\n\r\nimport './index.scss';\r\n\r\nclass MovieDetail extends Component {\r\n  constructor(props) {\r\n    super();\r\n\r\n    this.state = {\r\n      id: 0,\r\n      data: {\r\n        countries: [],\r\n        directors: [],\r\n        casts: [],\r\n        genres: [],\r\n        images: [],\r\n        aka: [],\r\n        rating: {}\r\n      },\r\n      isLoading: true\r\n    };\r\n  }\r\n\r\n  updateLoading(bool) {\r\n    this.setState({\r\n      isLoading: bool\r\n    });\r\n  }\r\n\r\n  getMovieDetail(id) {\r\n    if (id === 0) return false;\r\n\r\n    this.updateLoading(true);\r\n\r\n    ajax('get_movie_detail', {\r\n      id,\r\n      ck: '',\r\n      for_mobile: 1\r\n    })\r\n      .then(res => {\r\n        console.log(res);\r\n        this.setState({\r\n          data: res\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error.message);\r\n      })\r\n      .finally(() => {\r\n        this.updateLoading(false);\r\n      });\r\n  }\r\n\r\n  componentWillReceiveProps({ id }) {\r\n    this.setState({ id });\r\n    this.getMovieDetail(id);\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, data } = this.state;\r\n    let DOM = null;\r\n\r\n    if (isLoading) {\r\n      DOM = <Spin loading={isLoading} />;\r\n    } else {\r\n      DOM = (\r\n        <div className=\"movie-detail\">\r\n          <div className=\"movie-detail__header\">\r\n            {data.title}\r\n          </div>\r\n\r\n          <div className=\"movie-detail__body\">\r\n            <div className=\"movie-detail__poster\">\r\n              <Picture src={data.pic.normal} alt=\"poster\" />\r\n            </div>\r\n\r\n            <div className=\"card\">\r\n              <div className=\"card__body\">\r\n                <div className=\"detail-info-item\">\r\n                  <span className=\"detail-info-item__label\">豆瓣评分: </span>\r\n                  <span className=\"detail-info-item__text\">\r\n                    <Rate rate={data.rating.value} />\r\n                  </span>\r\n                </div>\r\n                <div className=\"detail-info-item\">\r\n                  <span className=\"detail-info-item__label\">类型: </span>\r\n                  <span className=\"detail-info-item__text\">\r\n                    {data.genres.join(' / ')}\r\n                  </span>\r\n                </div>\r\n                <div className=\"detail-info-item\">\r\n                  <span className=\"detail-info-item__label\">制片国家/地区: </span>\r\n                  <span className=\"detail-info-item__text\">\r\n                    {data.countries.join(' / ')}\r\n                  </span>\r\n                </div>\r\n                <div className=\"detail-info-item\">\r\n                  <span className=\"detail-info-item__label\">上映日期: </span>\r\n                  <span className=\"detail-info-item__text\">\r\n                    {data.year}\r\n                  </span>\r\n                </div>\r\n                <div className=\"detail-info-item\">\r\n                  <span className=\"detail-info-item__label\">又名: </span>\r\n                  <span className=\"detail-info-item__text\">\r\n                    {data.aka.join(' / ')}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card\">\r\n              <h4 className=\"card__title\">导演</h4>\r\n              <div className=\"card__body\">\r\n                <Celebrities className=\"directors\" list={data.directors} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card\">\r\n              <h4 className=\"card__title\">主演</h4>\r\n              <div className=\"card__body\">\r\n                <Celebrities className=\"casts\" list={data.actors} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card\">\r\n              <h4 className=\"card__title\">剧情简介</h4>\r\n              <div className=\"card__body\">\r\n                <p className=\"summary\">\r\n                  {data.intro}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"movie-detail__footer\">\r\n            <Link\r\n              className=\"search-button\"\r\n              to={{\r\n                pathname: '/magnet',\r\n                search: `?title=${this.state.data.title}`\r\n              }}\r\n              target=\"_blank\"\r\n            >\r\n              Search Magnet\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"movie-detail-wrapper\">\r\n        {DOM}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(MovieDetail);\r\n","import React, { Component } from 'react';\r\n\r\nimport Drawer from '@/components/drawer';\r\nimport Tabs from '@/components/tabs';\r\n\r\nimport ajax from '@/utils/ajax';\r\n\r\nimport MovieStage from './components/MovieStage';\r\nimport MovieDetail from './components/MovieDetail';\r\n\r\nimport './index.scss';\r\n\r\nclass MoviesPage extends Component {\r\n  state = {\r\n    movieTagList: [],\r\n    movieId: 0,\r\n    tabsActiveKey: '',\r\n    drawer: {\r\n      width: '345px',\r\n      visible: false\r\n    }\r\n  };\r\n\r\n  handleViewMovie = movieId => {\r\n    this.setState({\r\n      movieId\r\n    });\r\n    this.showDrawer();\r\n  };\r\n\r\n  showDrawer() {\r\n    this.setState({\r\n      drawer: {\r\n        ...this.state.drawer,\r\n        visible: true\r\n      }\r\n    });\r\n  }\r\n\r\n  handleDrawerClose = () => {\r\n    this.setState({\r\n      drawer: {\r\n        ...this.state.drawer,\r\n        visible: false\r\n      }\r\n    });\r\n  };\r\n\r\n  handleTabsChange = activeKey => {\r\n    if (activeKey !== this.state.tabsActiveKey) {\r\n      this.setState({\r\n        tabsActiveKey: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  getMovieTags() {\r\n    ajax('search_tags', {\r\n      type: 'movie',\r\n      source: 'index'\r\n    })\r\n      .then(res => {\r\n        const { tags } = res;\r\n\r\n        this.setState({\r\n          movieTagList: tags,\r\n          tabsActiveKey: tags[0]\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error.message);\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getMovieTags();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"page-movies\">\r\n        <div className=\"page-movies__body\">\r\n          <Tabs\r\n            defaultActiveKey=\"in_theaters\"\r\n            activeKey={this.state.tabsActiveKey}\r\n            onChange={this.handleTabsChange}\r\n          >\r\n            {this.state.movieTagList.map(tag =>\r\n              <div title={tag} key={tag}>\r\n                <MovieStage params={{ tag }} onClick={this.handleViewMovie} />\r\n              </div>\r\n            )}\r\n          </Tabs>\r\n        </div>\r\n\r\n        <div\r\n          className=\"page-movies__drawer\"\r\n          style={{\r\n            width: this.state.drawer.visible ? this.state.drawer.width : 0\r\n          }}\r\n        >\r\n          <Drawer\r\n            width={this.state.drawer.width}\r\n            visible={this.state.drawer.visible}\r\n            onClose={this.handleDrawerClose}\r\n          >\r\n            <MovieDetail id={this.state.movieId} />\r\n          </Drawer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesPage;\r\n","import magnet from './magnet'\r\nimport movie from './movie'\r\n\r\nexport default {\r\n  baseURL: '',\r\n  ...magnet,\r\n  ...movie\r\n}\r\n","export default {\r\n  getMagnetByTitle: {\r\n    method: 'GET',\r\n    desc: '通过标题搜索磁力链接',\r\n    url: '/api/magnet/getByTitle'\r\n  }\r\n}\r\n","export default {\r\n    search_tags: {\r\n        method: 'GET',\r\n        desc: '标签',\r\n        url: '/j/search_tags'\r\n        // Request: {\r\n        // type: movie\r\n        // source: index\r\n        // }\r\n\r\n        // Response: {\r\n        //     {\"tags\":[\"热门\",\"最新\",\"豆瓣高分\",\"冷门佳片\",\"华语\",\"欧美\",\"韩国\",\"日本\"]}\r\n        // }\r\n    },\r\n    search_subjects: {\r\n        method: 'GET',\r\n        desc: '正在热映',\r\n        url: '/j/search_subjects',\r\n        // Request: {\r\n        // type: movie\r\n        // tag: 最新\r\n        // page_limit: 50\r\n        // page_start: 0            \r\n        // }\r\n\r\n        // Response: {\r\n        //     \"subjects\": [<Subject>, ...],\r\n        // }\r\n    },\r\n    // https://m.douban.com/rexxar/api/v2/movie/30295905?ck=&for_mobile=1\r\n    get_movie_detail: {\r\n        method: 'GET',\r\n        desc: '获取电影详情',\r\n        url: '/rexxar/api/v2/movie/:id',\r\n        suffix: 'id'\r\n    }\r\n}\r\n","import axios from 'axios'\r\n\r\nimport API from '@/api'\r\n\r\n// 基础配置\r\nconst _ajaxConfig = axios.create( {\r\n    baseURL: API.baseURL,\r\n    headers: {\r\n        'Content-Type': 'json'\r\n    }\r\n} )\r\n\r\n/**\r\n * 混入全局参数 token\r\n * @param params\r\n * @returns {{} & {} & {token: *}}\r\n */\r\nfunction mixinGlobalParams ( params = {} ) {\r\n    const token = ( Date.now() ).toString( 16 )\r\n\r\n    return Object.assign( {}, params, {\r\n        token\r\n    } )\r\n}\r\n\r\n// Add a request interceptor\r\n_ajaxConfig.interceptors.request.use( ( config ) => {\r\n    // 混入公共参数\r\n    switch ( config.method ) {\r\n        case 'put':\r\n        case 'post':\r\n        case 'patch':\r\n            // 这些情况，请求参数放在 params\r\n            config.data = mixinGlobalParams( config.data )\r\n\r\n            break\r\n        default:\r\n            // 默认，请求参数放在 params\r\n            config.params = mixinGlobalParams( config.data )\r\n    }\r\n\r\n    return config\r\n}, ( error ) => {\r\n    // Do something with request error\r\n    alert( `网络错误\\n${error.message}` )\r\n\r\n    return Promise.reject( error )\r\n} )\r\n\r\n// Add a response interceptor\r\n_ajaxConfig.interceptors.response.use( ( response ) => {\r\n    // Do something with response data\r\n    const res = response.data\r\n\r\n    // if (res.code !== 0) {\r\n    //     const error = {\r\n    //         code: res.code,\r\n    //         status: response.status,\r\n    //         message: res.data\r\n    //     }\r\n\r\n    //     return Promise.reject(error)\r\n    // }\r\n\r\n    return res\r\n}, ( error ) => {\r\n    // Do something with response error\r\n    if ( typeof error.response === 'undefined' ) {\r\n        alert( `网络错误\\n${error.message}\\n${error.config.url}` )\r\n\r\n        return Promise.reject( error )\r\n    }\r\n\r\n    switch ( error.response.status ) {\r\n        case 403:\r\n            alert( 403 )\r\n\r\n            break\r\n        default:\r\n            alert( `网络错误\\n${error.response.status}\\n${error.response.config.url}` )\r\n    }\r\n\r\n    return Promise.reject( error )\r\n} )\r\n\r\nexport function ajax ( apiName, data = {} ) {\r\n    const api = API[apiName]\r\n    let { url, method } = API[apiName]\r\n\r\n    if ( typeof api.suffix !== 'undefined' && api.suffix !== '' ) {\r\n        url = url.replace( `:${api.suffix}`, data[api.suffix] )\r\n    }\r\n\r\n    return _ajaxConfig( {\r\n        url,\r\n        method,\r\n        data\r\n    } )\r\n}\r\n\r\nexport default ajax","import React, { Component } from 'react'\r\nimport classnames from 'classnames'\r\n\r\nimport './index.scss'\r\n\r\nclass Spin extends Component {\r\n    render() {\r\n        const className = classnames({\r\n            'c-spin': true,\r\n            'spinning': this.props.loading\r\n        })\r\n\r\n        return (\r\n            <div className={className}>\r\n                <div className=\"c-spin__box\">\r\n                    <span className=\"c-spin__animate\">\r\n                        <div className=\"primary primary-red\"></div>\r\n                        <div className=\"primary primary-green\"></div>\r\n                        <div className=\"primary primary-blue\"></div>\r\n                    </span>\r\n                    {/* <span className=\"c-spin__text\">Loading...</span> */}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Spin"],"sourceRoot":""}